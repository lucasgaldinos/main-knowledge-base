{
    // === ACADEMIC WRITING OPTIMIZATIONS ===
    "editor.formatOnSave": false, // Prevent conflicts with academic markdown
    "editor.codeActionsOnSave": {
        "source.fixAll.markdownlint": "explicit",
        "source.organizeImports": "explicit"
    },
    // Spell checking for academic content
    "cSpell.enabled": true,
    "cSpell.enableFiletypes": [
        "markdown",
        "yaml",
        "python",
        "json"
    ],
    "cSpell.customDictionaries": {
        "academic-terms": {
            "name": "Academic Terms",
            "path": "${workspaceFolder}/.vscode/academic-dictionary.txt",
            "description": "Academic and technical terms",
            "scope": "workspace"
        }
    },
    // === MARKDOWN OPTIMIZATIONS ===
    "markdown.extension.toc.updateOnSave": true,
    "markdown.extension.print.absoluteImgPath": false,
    "markdown.extension.completion.respectVscodeSearchExclude": true,
    "markdownlint.config": {
        "MD013": false, // Line length flexibility for academic writing
        "MD033": false, // Allow HTML in markdown for academic formatting
        "MD041": false // First line doesn't need to be H1 (YAML frontmatter)
    },
    // === GITHUB COPILOT CONFIGURATION ===
    "github.copilot.enable": {
        "*": true,
        "yaml": false, // Exclude academic metadata from Copilot
        "plaintext": false, // Exclude plain text academic notes
        "markdown": true // Enable for markdown but be selective
    },
    "editor.inlineSuggest.showToolbar": "always",
    "github.copilot.editor.enableAutoCompletions": true,
    // === ACADEMIC FILE ASSOCIATIONS ===
    "files.associations": {
        "*.md": "markdown",
        "*.bib": "bibtex",
        "*.cff": "yaml",
        "*.frontmatter": "yaml",
        "**/.kb/**/*.json": "jsonc",
        "**/PKM-BRANCH-TRACKING.md": "markdown"
    },
    // === SEARCH AND PERFORMANCE OPTIMIZATION ===
    "search.exclude": {
        "**/node_modules": true,
        "**/dist": true,
        "**/build": true,
        "**/.next": true,
        "**/.venv": true,
        "**/30-data/**/*.db": true, // Exclude academic databases
        "**/30-data/analysis-reports/": true, // PKM: Exclude generated reports from search
        "**/90-archive/**": true, // Exclude archived content
        "**/*.cache": true,
        "**/arxiv/cache.db": true,
        "**/.git": true,
        "**/.mypy_cache/": true
    },
    "files.watcherExclude": {
        "**/.git/objects/**": true,
        "**/node_modules/**": true,
        "**/dist/**": true,
        "**/.venv/**": true,
        "**/30-data/**/*.db": true,
        "**/90-archive/**": true
    },
    // === PYTHON DEVELOPMENT ===
    "python.defaultInterpreterPath": "./.venv/bin/python",
    "python.analysis.autoImportCompletions": true,
    "python.analysis.typeCheckingMode": "basic",
    "python.linting.enabled": true,
    "python.linting.flake8Enabled": true,
    "python.formatting.provider": "black",
    "python.testing.pytestEnabled": true,
    "python.testing.unittestEnabled": false,
    "python.testing.nosetestsEnabled": false,
    "python.testing.autoTestDiscoverOnSaveEnabled": true,
    "python.testing.pytestArgs": [
        "scripts/",
        "40-code/"
    ],
    // === GIT AND VERSION CONTROL ===
    "git.autofetch": true,
    "git.pruneOnFetch": true,
    "git.enableSmartCommit": true,
    "git.confirmSync": false,
    // === WORKSPACE TRUST AND SECURITY ===
    "security.workspace.trust.untrustedFiles": "newWindow",
    "security.workspace.trust.banner": "always",
    // === FILE MANAGEMENT ===
    "files.eol": "\n",
    "files.insertFinalNewline": true,
    "files.trimTrailingWhitespace": true,
    "files.trimFinalNewlines": true,
    // === EDITOR ENHANCEMENTS ===
    "editor.inlayHints.enabled": "offUnlessPressed",
    "editor.bracketPairColorization.enabled": true,
    "editor.guides.bracketPairs": true,
    "editor.stickyScroll.enabled": true,
    "workbench.editor.enablePreview": false,
    "workbench.editor.revealIfOpen": true,
    // === TERMINAL PROFILES ===
    "terminal.integrated.profiles.linux": {
        "Bash (interactive)": {
            "path": "/bin/bash",
            "args": [
                "-l"
            ],
            "icon": "terminal-bash",
            "color": "terminal.ansiGreen",
            "env": {
                "TERM": "xterm-256color"
            }
        },
        "Bash (automation)": {
            "path": "/bin/bash",
            "args": [
                "--noprofile",
                "--norc"
            ],
            "icon": "rocket",
            "color": "terminal.ansiMagenta",
            "env": {
                "LC_ALL": "C",
                "CI": "1",
                "NO_COLOR": "1"
            }
        },
        "Bash (container)": {
            "path": "/usr/bin/env",
            "args": [
                "bash",
                "-l"
            ],
            "icon": "vm",
            "color": "terminal.ansiBlue",
            "env": {
                "IN_CONTAINER": "1"
            }
        },
        "Academic Workflow": {
            "path": "/bin/bash",
            "args": [
                "-l",
                "-c",
                "source ${workspaceFolder}/.vscode/academic-profile.sh && bash"
            ],
            "icon": "book",
            "color": "terminal.ansiCyan",
            "env": {
                "PYTHONPATH": "${workspaceFolder}",
                "ACADEMIC_MODE": "1",
                "WORKSPACEFOLDER": "${workspaceFolder}"
            }
        }
    },
    // Default profile for interactive work
    "terminal.integrated.defaultProfile.linux": "Bash (interactive)",
    // Automation profile for tasks and debugging
    "terminal.integrated.automationProfile.linux": {
        "path": "/bin/bash",
        "args": [
            "--noprofile",
            "--norc",
            "-c"
        ],
        "env": {
            "CI": "1",
            "DEBIAN_FRONTEND": "noninteractive",
            "GIT_TERMINAL_PROMPT": "0",
            "NO_COLOR": "1",
            "LC_ALL": "C"
        }
    },
    // === TERMINAL ENHANCEMENTS ===
    "terminal.integrated.enableShellIntegration": true,
    "terminal.integrated.scrollback": 20000,
    "terminal.integrated.enablePersistentSessions": true,
    "terminal.integrated.tabs.enabled": true,
    "terminal.integrated.allowChords": true,
    // Auto-replies for common automation prompts
    "terminal.integrated.autoReplies": {
        "Do you want to continue\\? \\[Y/n\\]": "Y",
        "Proceed\\? \\(y/N\\)": "y",
        "Continue\\? \\[y/N\\]": "y",
        "Are you sure\\? \\[y/N\\]": "y"
    },
    // Keep essential VS Code keybindings
    "terminal.integrated.commandsToSkipShell": [
        "workbench.action.quickOpen",
        "workbench.action.terminal.focusFind",
        "workbench.action.terminal.runSelectedText",
        "workbench.action.terminal.clear",
        "workbench.action.tasks.runTask",
        "workbench.action.terminal.toggleTerminal"
    ],
    // === ACADEMIC WORKFLOW OPTIMIZATIONS ===
    "todo-tree.highlights.enabled": true,
    "todo-tree.highlights.defaultHighlight": {
        "icon": "alert",
        "type": "text",
        "foreground": "red",
        "background": "white",
        "opacity": 50,
        "iconColour": "blue"
    },
    "todo-tree.highlights.customHighlight": {
        "TODO": {
            "icon": "check",
            "foreground": "white",
            "background": "orange"
        },
        "FIXME": {
            "icon": "bug",
            "foreground": "white",
            "background": "red"
        },
        "NOTE": {
            "icon": "note",
            "foreground": "white",
            "background": "blue"
        },
        "RESEARCH": {
            "icon": "book",
            "foreground": "white",
            "background": "purple"
        }
    },
    // === PKM ARCHITECTURAL OPTIMIZATIONS ===
    // PKM workflow optimizations
    "explorer.fileNesting.enabled": true,
    "explorer.fileNesting.patterns": {
        "*.md": "${capture}-sources.md,${capture}-report.md,${capture}-analysis.md"
    },
    // Academic taxonomy support
    "breadcrumbs.enabled": true,
    "breadcrumbs.filePath": "on",
    "outline.showFunctions": true,
    "outline.showModules": true
}
