{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"$id": "https://kb.local/schemas/note.schema.json",
	"title": "Knowledge Base Note Schema",
	"description": "Schema for atomic notes in the knowledge base",
	"type": "object",
	"required": ["id", "title", "created", "status", "type"],
	"properties": {
		"id": {
			"type": "string",
			"pattern": "^[0-9]{8,14}-[a-z0-9-]+$",
			"description": "Unique identifier with timestamp and slug"
		},
		"title": {
			"type": "string",
			"minLength": 3,
			"maxLength": 200,
			"description": "Short descriptive title"
		},
		"created": {
			"type": "string",
			"format": "date-time",
			"description": "ISO 8601 timestamp of creation"
		},
		"updated": {
			"type": "string",
			"format": "date-time",
			"description": "ISO 8601 timestamp of last update"
		},
		"status": {
			"type": "string",
			"enum": ["draft", "active", "completed", "archived", "deprecated"],
			"description": "Current status of the note"
		},
		"type": {
			"type": "string",
			"const": "note",
			"description": "Document type identifier"
		},
		"priority": {
			"type": "string",
			"enum": ["low", "medium", "high", "critical"],
			"description": "Priority level"
		},
		"tags": {
			"type": "array",
			"items": {
				"type": "string",
				"pattern": "^[a-z0-9-]+(/[a-z0-9-]+)*$"
			},
			"description": "Hierarchical tags for categorization"
		},
		"links": {
			"type": "array",
			"items": {
				"type": "string"
			},
			"description": "References to other documents, projects, or external resources"
		},
		"authors": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"name": { "type": "string" },
					"orcid": {
						"type": "string",
						"pattern": "^0000-000[0-9]-[0-9]{4}-[0-9]{3}[0-9X]$"
					},
					"role": { "type": "string" }
				},
				"required": ["name"]
			},
			"description": "Authors and contributors"
		},
		"license": {
			"type": "string",
			"enum": [
				"CC-BY-4.0",
				"CC-BY-SA-4.0",
				"MIT",
				"Apache-2.0",
				"GPL-3.0"
			],
			"description": "SPDX license identifier"
		},
		"sensitivity": {
			"type": "string",
			"enum": ["public", "internal", "restricted", "confidential"],
			"description": "Data sensitivity classification"
		}
	},
	"additionalProperties": true
}
